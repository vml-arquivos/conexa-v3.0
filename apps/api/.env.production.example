# ============================================================================
# CONEXA V3.0 - PRODUCTION ENVIRONMENT VARIABLES
# ============================================================================
# Este arquivo contém TODAS as variáveis de ambiente necessárias para produção
# Copie este arquivo para .env.production e preencha com valores reais
# ============================================================================

# ============================================================================
# DATABASE
# ============================================================================
# Connection string do PostgreSQL
# Formato: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://conexa_user:SUA_SENHA_AQUI@conexa-v3-db:5432/conexa

# ============================================================================
# JWT (JSON Web Token)
# ============================================================================
# Chave secreta para assinar tokens JWT (mínimo 32 caracteres)
# IMPORTANTE: Gere uma chave forte e única para produção!
# Exemplo de geração: openssl rand -base64 32
JWT_SECRET=sua-chave-secreta-super-segura-aqui-minimo-32-caracteres

# Tempo de expiração do token
JWT_EXPIRES_IN=7d

# ============================================================================
# API CONFIGURATION
# ============================================================================
# Ambiente de execução
NODE_ENV=production

# Porta da API
PORT=3000

# URL pública da API (com domínio)
API_URL=https://api.conexa.seu-dominio.com

# ============================================================================
# CORS (Cross-Origin Resource Sharing)
# ============================================================================
# Domínios permitidos para fazer requisições à API
# Separe múltiplos domínios com vírgula
CORS_ORIGIN=https://app.conexa.seu-dominio.com,https://conexa.seu-dominio.com

# ============================================================================
# AWS S3 (Upload de Arquivos)
# ============================================================================
# Credenciais AWS
AWS_ACCESS_KEY_ID=sua-access-key-aqui
AWS_SECRET_ACCESS_KEY=sua-secret-key-aqui

# Região do bucket
AWS_REGION=us-east-1

# Nome do bucket S3
AWS_S3_BUCKET=conexa-uploads

# URL pública do CloudFront (opcional)
AWS_CLOUDFRONT_URL=https://d1234567890.cloudfront.net

# ============================================================================
# GEMINI AI (Google)
# ============================================================================
# API Key do Google Gemini para IA Assistiva
# Obtenha em: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=sua-gemini-api-key-aqui

# Modelo a ser usado
GEMINI_MODEL=gemini-1.5-flash

# ============================================================================
# STRIPE (Pagamentos) - OPCIONAL
# ============================================================================
# Chave secreta do Stripe
STRIPE_SECRET_KEY=sk_live_sua-key-aqui

# Webhook secret para validar eventos
STRIPE_WEBHOOK_SECRET=whsec_sua-secret-aqui

# ============================================================================
# REDIS (Cache e Sessões) - OPCIONAL
# ============================================================================
# URL de conexão do Redis
REDIS_URL=redis://conexa-v3-redis:6379

# TTL padrão do cache (em segundos)
REDIS_TTL=3600

# ============================================================================
# EMAIL (Notificações) - OPCIONAL
# ============================================================================
# Provedor: smtp, sendgrid, mailgun
EMAIL_PROVIDER=smtp

# Configurações SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=seu-email@gmail.com
SMTP_PASSWORD=sua-senha-app

# Remetente padrão
EMAIL_FROM=noreply@conexa.seu-dominio.com
EMAIL_FROM_NAME=Conexa V3.0

# ============================================================================
# SENTRY (Monitoramento de Erros) - OPCIONAL
# ============================================================================
# DSN do Sentry
SENTRY_DSN=https://sua-key@sentry.io/projeto

# Ambiente
SENTRY_ENVIRONMENT=production

# ============================================================================
# RATE LIMITING
# ============================================================================
# Máximo de requisições por minuto por IP
RATE_LIMIT_MAX=100

# Janela de tempo (em minutos)
RATE_LIMIT_WINDOW=1

# ============================================================================
# LOGGING
# ============================================================================
# Nível de log: error, warn, info, debug, verbose
LOG_LEVEL=info

# Formato: json, pretty
LOG_FORMAT=json

# ============================================================================
# FEATURES FLAGS
# ============================================================================
# Habilitar modo offline
ENABLE_OFFLINE_MODE=true

# Habilitar notificações push
ENABLE_PUSH_NOTIFICATIONS=true

# Habilitar IA assistiva
ENABLE_AI_ASSISTANT=true

# Habilitar webhooks n8n
ENABLE_N8N_WEBHOOKS=true

# ============================================================================
# N8N WEBHOOKS
# ============================================================================
# URL base do n8n
N8N_WEBHOOK_URL=https://n8n.seu-dominio.com/webhook

# Token de autenticação
N8N_WEBHOOK_TOKEN=sua-token-aqui

# ============================================================================
# BACKUP
# ============================================================================
# Habilitar backup automático
ENABLE_AUTO_BACKUP=true

# Horário do backup (cron format)
BACKUP_SCHEDULE=0 2 * * *

# Retenção de backups (em dias)
BACKUP_RETENTION_DAYS=30

# ============================================================================
# SECURITY
# ============================================================================
# Habilitar helmet (segurança HTTP)
ENABLE_HELMET=true

# Habilitar rate limiting
ENABLE_RATE_LIMIT=true

# Habilitar CSRF protection
ENABLE_CSRF=false

# ============================================================================
# PRISMA
# ============================================================================
# Log level do Prisma
PRISMA_LOG_LEVEL=info

# Query timeout (em milissegundos)
PRISMA_QUERY_TIMEOUT=10000

# ============================================================================
# HEALTH CHECK
# ============================================================================
# Intervalo de health check (em segundos)
HEALTH_CHECK_INTERVAL=30

# Timeout de health check (em segundos)
HEALTH_CHECK_TIMEOUT=10

# ============================================================================
# NOTAS IMPORTANTES
# ============================================================================
# 1. NUNCA commite este arquivo com valores reais no Git!
# 2. Use variáveis de ambiente do Coolify para valores sensíveis
# 3. Gere senhas fortes para JWT_SECRET e DATABASE_URL
# 4. Configure CORS_ORIGIN com seus domínios reais
# 5. Habilite apenas as features que você vai usar
# 6. Configure monitoramento (Sentry) para produção
# 7. Configure backups automáticos do banco de dados
# 8. Use HTTPS em todos os domínios
# 9. Configure rate limiting para prevenir abuso
# 10. Monitore logs regularmente
# ============================================================================
